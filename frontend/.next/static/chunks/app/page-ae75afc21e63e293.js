(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5690:(e,t,l)=>{Promise.resolve().then(l.bind(l,8437))},8437:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>u});var a=l(5155),n=l(2115),r=l(5474),s=l(2316),o=l(2651);let c=async e=>{try{return(await o.A.post("".concat("http://localhost:8080/api","/roll-dice"),{bet:e})).data}catch(e){throw Error("Error rolling dice.")}};function i(e){let{roll:t}=e,[l,r]=(0,n.useState)("");return(0,n.useEffect)(()=>{null!==t&&(r("animate-roll"),setTimeout(()=>r(""),600))},[t]),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-24 h-24 flex items-center justify-center bg-white text-black text-4xl font-bold rounded-lg shadow-md border-4 border-gray-700 ".concat(l),children:null!==t?t:"\uD83C\uDFB2"}),(0,a.jsx)("style",{children:"\n          @keyframes roll {\n            0% { transform: rotate(0deg); }\n            50% { transform: rotate(360deg); }\n            100% { transform: rotate(0deg); }\n          }\n          .animate-roll {\n            animation: roll 0.6s ease-in-out;\n          }\n        "})]})}function u(){let[e,t]=(0,n.useState)(0),[l,o]=(0,n.useState)(1e3),[u,d]=(0,n.useState)(null),[m,h]=(0,n.useState)(""),[x,g]=(0,n.useState)(!1),[b,f]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=localStorage.getItem("cryptoBalance");e&&o(Number(e))},[]);let w=async()=>{if(!window.ethereum){alert("MetaMask is not installed. Using local balance.");return}try{let e=new r.k(window.ethereum),t=await e.send("eth_requestAccounts",[]);await e.getSigner();let l=await e.getBalance(t[0]),a=s.ck(l);g(!0),f(a)}catch(e){console.error("Wallet connection failed:",e)}},y=async()=>{if(e<=0||e>l){h("Invalid bet amount.");return}try{let{roll:t,newBalance:l}=await c(e);d(t),o(l),localStorage.setItem("cryptoBalance",l.toString()),h("You rolled a ".concat(t,". ").concat(t>=4?"You won!":"You lost!"))}catch(e){h(e.message)}};return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white p-6",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-6 text-blue-400",children:"\uD83C\uDFB2 Provably Fair Dice Game \uD83C\uDFB2"}),(0,a.jsxs)("p",{className:"mb-4 text-lg font-semibold",children:["Balance: ",(0,a.jsxs)("span",{className:"text-green-400",children:["$",l]})]}),x?(0,a.jsxs)("p",{className:"text-yellow-400",children:["Wallet Connected! ETH Balance: ",b," ETH"]}):(0,a.jsx)("button",{onClick:w,className:"mb-4 px-4 py-2 bg-yellow-500 rounded-lg shadow-md hover:bg-yellow-600 transition-all",children:"Connect Wallet"}),(0,a.jsx)(i,{roll:u}),(0,a.jsxs)("div",{className:"relative w-full max-w-xs mt-6",children:[(0,a.jsx)("input",{type:"number",value:e,onChange:e=>t(Number(e.target.value)),className:"w-full p-3 text-lg border border-gray-500 bg-gray-800 text-white rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all",placeholder:"Enter Bet Amount"}),(0,a.jsx)("span",{className:"absolute top-1/2 right-3 transform -translate-y-1/2 text-gray-400",children:"$"})]}),(0,a.jsx)("button",{onClick:y,className:"mt-6 px-6 py-3 bg-blue-500 text-white text-lg font-semibold rounded-lg shadow-md hover:bg-blue-600 transition-all",children:"\uD83C\uDFB2 Roll Dice"}),m&&(0,a.jsx)("p",{className:"mt-6 text-lg font-medium",children:m})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[869,441,587,358],()=>t(5690)),_N_E=e.O()}]);